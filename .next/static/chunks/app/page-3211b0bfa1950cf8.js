(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>d});var s=r(5155),a=r(2115),n=r(4253),l=r(2085),i=r(9434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:r})),ref:t,...c})});o.displayName="Button"},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},2643:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(9174);let a="https://ykgykpsocuxijdpvsbbe.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlrZ3lrcHNvY3V4aWpkcHZzYmJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NDQ4NzYsImV4cCI6MjA4MDAyMDg3Nn0.e4AVEHkHgKzjXyygfCSSKOxRmCSvKkK1hBpCcORe7vQ";if(!a||!n)throw Error("Missing Supabase environment variables");let l=(0,s.UU)(a,n)},2729:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var s=r(2115),a=r(2643);let n=()=>{let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(!0),[l,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{a.N.auth.getSession().then(e=>{var r;let{data:{session:s},error:a}=e;a&&i(a),t(null!=(r=null==s?void 0:s.user)?r:null),n(!1)});let{data:{subscription:e}}=a.N.auth.onAuthStateChange((e,r)=>{var s;t(null!=(s=null==r?void 0:r.user)?s:null),n(!1)});return()=>e.unsubscribe()},[]),{user:e,isLoading:r,error:l}}},5538:(e,t,r)=>{Promise.resolve().then(r.bind(r,9735))},5937:(e,t,r)=>{"use strict";r.d(t,{lV:()=>u,MJ:()=>j,Rr:()=>b,zB:()=>f,eI:()=>p,lR:()=>g,C5:()=>v});var s=r(5155),a=r(2115),n=r(4253),l=r(2177),i=r(9434),d=r(968);let o=(0,r(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(d.b,{ref:t,className:(0,i.cn)(o(),r),...a})});c.displayName=d.b.displayName;let u=l.Op,m=a.createContext({}),f=e=>{let{...t}=e;return(0,s.jsx)(m.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},x=()=>{let e=a.useContext(m),t=a.useContext(h),{getFieldState:r,formState:s}=(0,l.xW)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},h=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...n}=e,l=a.useId();return(0,s.jsx)(h.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...n})})});p.displayName="FormItem";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:l}=x();return(0,s.jsx)(c,{ref:t,className:(0,i.cn)(n&&"text-destructive",r),htmlFor:l,...a})});g.displayName="FormLabel";let j=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:d}=x();return(0,s.jsx)(n.DX,{ref:t,id:l,"aria-describedby":a?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!a,...r})});j.displayName="FormControl";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=x();return(0,s.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});b.displayName="FormDescription";let v=a.forwardRef((e,t)=>{var r;let{className:a,children:n,...l}=e,{error:d,formMessageId:o}=x(),c=d?String(null!=(r=null==d?void 0:d.message)?r:""):n;return c?(0,s.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",a),...l,children:c}):null});v.displayName="FormMessage"},7314:(e,t,r)=>{"use strict";r.d(t,{O5:()=>i,X5:()=>l,zl:()=>n});var s=r(5594);let a=["application/vnd.openxmlformats-officedocument.wordprocessingml.document"],n=s.z.object({fullName:s.z.string().min(2,"Full name must be at least 2 characters."),rollNumber:s.z.string().min(1,"Roll number is required."),classAndSection:s.z.string().min(1,"Class & Section is required."),studyLevel:s.z.enum(["UG","PG"],{errorMap:()=>({message:"Please select a study level."})}),yearAndTerm:s.z.string().min(1,"Year & Term is required.").max(200),subjectName:s.z.string().min(3,"Subject name is required.").max(200),assessmentName:s.z.string().min(3,"Assessment name is required.").max(200),submissionDate:s.z.date({required_error:"Date of submission is required."}),creativity:s.z.number().min(0).max(1),humanize:s.z.boolean().default(!1),document:s.z.any().refine(e=>!!e,"A .docx file is required.").refine(e=>e instanceof File,"A .docx file is required.").refine(e=>(null==e?void 0:e.size)>0,"File cannot be empty.").refine(e=>(null==e?void 0:e.size)<=0xa00000,"File size must be less than 10MB.").refine(e=>a.includes(null==e?void 0:e.type),"Only .docx files are accepted.")}),l=s.z.object({email:s.z.string().email({message:"Please enter a valid email address."}),password:s.z.string().min(6,{message:"Password must be at least 6 characters."})}),i=s.z.object({email:s.z.string().email({message:"Please enter a valid email address."}),password:s.z.string().min(6,{message:"Password must be at least 6 characters."})})},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eb});var s=r(5155),a=r(2115),n=r(7481),l=r(4477);let i=(0,l.createServerReference)("40d42e74526e150374f3eedc5cec84a028bf5c26e4",l.callServer,void 0,l.findSourceMapURL,"generateDocument");var d=r(221),o=r(2177),c=r(3013),u=r(6923),m=r(1920),f=r(172),x=r(7832),h=r(7314),p=r(9434),g=r(285);let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});j.displayName="Card";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("flex flex-col space-y-1.5 p-6",r),...a})});b.displayName="CardHeader";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});v.displayName="CardTitle";let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",r),...a})});N.displayName="CardDescription";let y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("p-6 pt-0",r),...a})});y.displayName="CardContent";let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,p.cn)("flex items-center p-6 pt-0",r),...a})});w.displayName="CardFooter";var A=r(5937),S=r(2523),R=r(8176);let C=R.bL,z=R.l9,I=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:n=4,...l}=e;return(0,s.jsx)(R.ZL,{children:(0,s.jsx)(R.UC,{ref:t,align:a,sideOffset:n,className:(0,p.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});I.displayName=R.UC.displayName;var k=r(965),_=r(3158),T=r(3900);function M(e){let{className:t,classNames:r,showOutsideDays:a=!0,...n}=e;return(0,s.jsx)(T.hv,{showOutsideDays:a,className:(0,p.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,p.cn)((0,g.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,p.cn)((0,g.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{className:t,...r}=e;return(0,s.jsx)(k.A,{className:(0,p.cn)("h-4 w-4",t),...r})},IconRight:e=>{let{className:t,...r}=e;return(0,s.jsx)(_.A,{className:(0,p.cn)("h-4 w-4",t),...r})}},...n})}M.displayName="Calendar";var D=r(4073);let F=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(D.bL,{ref:t,className:(0,p.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(D.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(D.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(D.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});F.displayName=D.bL.displayName;var E=r(4884);let P=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(E.bL,{className:(0,p.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:t,children:(0,s.jsx)(E.zi,{className:(0,p.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});P.displayName=E.bL.displayName;var O=r(3433),J=r(9556),U=r(7381),L=r(518);let B=O.bL;O.YJ;let V=O.WT,Y=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(O.l9,{ref:t,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,s.jsx)(O.In,{asChild:!0,children:(0,s.jsx)(J.A,{className:"h-4 w-4 opacity-50"})})]})});Y.displayName=O.l9.displayName;let q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(O.PP,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(U.A,{className:"h-4 w-4"})})});q.displayName=O.PP.displayName;let G=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(O.wn,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(J.A,{className:"h-4 w-4"})})});G.displayName=O.wn.displayName;let $=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...l}=e;return(0,s.jsx)(O.ZL,{children:(0,s.jsxs)(O.UC,{ref:t,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,s.jsx)(q,{}),(0,s.jsx)(O.LM,{className:(0,p.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(G,{})]})})});$.displayName=O.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(O.JU,{ref:t,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=O.JU.displayName;let H=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(O.q7,{ref:t,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(O.VF,{children:(0,s.jsx)(L.A,{className:"h-4 w-4"})})}),(0,s.jsx)(O.p4,{children:a})]})});function X(e){let{onSubmit:t,isLoading:r}=e,a=(0,o.mN)({resolver:(0,d.u)(h.zl),defaultValues:{fullName:"",rollNumber:"",classAndSection:"",yearAndTerm:"",subjectName:"",assessmentName:"Reflective Journal Writing 1",submissionDate:new Date,creativity:.5,humanize:!1}});return(0,s.jsx)(j,{className:"w-full shadow-lg",children:(0,s.jsx)(A.lV,{...a,children:(0,s.jsxs)("form",{onSubmit:a.handleSubmit(function(e){let r=new FormData,{document:s,...a}=e;Object.entries(a).forEach(e=>{let[t,s]=e;s instanceof Date?r.append(t,s.toISOString()):"boolean"==typeof s?r.append(t,s?"true":"false"):null!=s&&r.append(t,String(s))}),s&&r.append("document",s),t(r)}),children:[(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{className:"font-headline text-2xl",children:"Start Rephrasing"}),(0,s.jsx)(N,{children:"Upload your document, fill in your details, and let AI do the rest."})]}),(0,s.jsxs)(y,{className:"grid gap-6",children:[(0,s.jsx)(A.zB,{control:a.control,name:"document",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Upload your .docx"}),(0,s.jsx)(A.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(S.p,{type:"file",className:"pl-12 file:text-foreground",accept:".docx",onChange:e=>t.onChange(e.target.files?e.target.files[0]:null)}),(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,s.jsx)(u.A,{className:"h-5 w-5 text-muted-foreground"})})]})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"fullName",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Full Name"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{placeholder:"Aditi Sharma",...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"rollNumber",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Roll / Registration Number"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{placeholder:"e.g., AUR23-101",...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"classAndSection",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Class & Section"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{placeholder:"e.g., B.Tech CSE - A",...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"studyLevel",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Study Level"}),(0,s.jsxs)(B,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,s.jsx)(A.MJ,{children:(0,s.jsx)(Y,{children:(0,s.jsx)(V,{placeholder:"Select UG or PG"})})}),(0,s.jsxs)($,{children:[(0,s.jsx)(H,{value:"UG",children:"Undergraduate (UG)"}),(0,s.jsx)(H,{value:"PG",children:"Postgraduate (PG)"})]})]}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"yearAndTerm",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Year & Term"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{placeholder:"e.g., 1st Year & 2nd Term",...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"subjectName",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Subject Name"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{placeholder:"e.g., Professional Communication",...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"assessmentName",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsx)(A.lR,{children:"Assessment Name"}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(S.p,{...t})}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"submissionDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{className:"flex flex-col",children:[(0,s.jsx)(A.lR,{children:"Date of Submission"}),(0,s.jsxs)(C,{children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsx)(A.MJ,{children:(0,s.jsxs)(g.$,{variant:"outline",className:(0,p.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,c.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"}),(0,s.jsx)(m.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,s.jsx)(I,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(M,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:e=>e<new Date("1900-01-01"),initialFocus:!0})})]}),(0,s.jsx)(A.C5,{})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"creativity",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)(A.lR,{children:"Creativity Level"}),(0,s.jsx)("span",{className:"text-sm font-medium text-primary",children:t.value})]}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(F,{min:0,max:1,step:.1,value:[t.value],onValueChange:e=>t.onChange(e[0])})}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:"More Precise"}),(0,s.jsx)("span",{children:"More Creative"})]}),(0,s.jsx)(A.Rr,{children:"Adjust how much the AI alters your original text."})]})}}),(0,s.jsx)(A.zB,{control:a.control,name:"humanize",render:e=>{let{field:t}=e;return(0,s.jsxs)(A.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(A.lR,{children:"Humanize"}),(0,s.jsx)(A.Rr,{children:"Make the text sound more natural and less academic."})]}),(0,s.jsx)(A.MJ,{children:(0,s.jsx)(P,{checked:t.value,onCheckedChange:t.onChange})})]})}})]}),(0,s.jsx)(w,{children:(0,s.jsx)(g.$,{type:"submit",disabled:r,className:"w-full bg-accent hover:bg-accent/90",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Generate Rephrased Document"]})})})]})})})}H.displayName=O.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(O.wv,{ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=O.wv.displayName;var Z=r(8127),Q=r(8718),K=r(7554);function W(e){let{filename:t,content:r,onReset:a}=e;return(0,s.jsxs)(j,{className:"w-full shadow-lg text-center animate-in fade-in-50",children:[(0,s.jsxs)(b,{children:[(0,s.jsx)("div",{className:"mx-auto bg-green-100 rounded-full p-3 w-fit",children:(0,s.jsx)(Z.A,{className:"h-10 w-10 text-green-600"})}),(0,s.jsx)(v,{className:"font-headline text-2xl mt-4",children:"Journal Created Successfully!"}),(0,s.jsx)(N,{children:"Your rephrased document is ready for submission."})]}),(0,s.jsx)(y,{children:(0,s.jsxs)("div",{className:"bg-secondary rounded-md p-4 border border-dashed text-center",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"File:"}),(0,s.jsx)("p",{className:"font-medium text-foreground break-all",children:t})]})}),(0,s.jsxs)(w,{className:"flex-col sm:flex-row gap-2",children:[(0,s.jsxs)(g.$,{onClick:()=>{let e=document.createElement("a");e.href="data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,".concat(r),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"w-full",children:[(0,s.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),"Download File"]}),(0,s.jsxs)(g.$,{onClick:a,variant:"outline",className:"w-full",children:[(0,s.jsx)(K.A,{className:"mr-2 h-4 w-4"}),"Create Another"]})]})]})}var ee=r(7648),et=r(8044),er=r(3349),es=r(2729),ea=r(5695),en=r(2643);let el=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,p.cn)("w-full caption-bottom text-sm",r),...a})})});el.displayName="Table";let ei=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,p.cn)("[&_tr]:border-b",r),...a})});ei.displayName="TableHeader";let ed=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,p.cn)("[&_tr:last-child]:border-0",r),...a})});ed.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,p.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let eo=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,p.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});eo.displayName="TableRow";let ec=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,p.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});ec.displayName="TableHead";let eu=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,p.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});eu.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,p.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";let em=(0,r(2085).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ef(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,p.cn)(em({variant:r}),t),...a})}var ex=r(5731),eh=r(4683),ep=r(7804),eg=r(3920);function ej(){var e;let{toast:t}=(0,n.dj)(),[r,l]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]);let u=async()=>{try{d(!0);let{data:e,error:t}=await en.N.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;l(e||[])}catch(e){c(e.message)}finally{d(!1)}},m=async(e,r)=>{try{let{error:s}=await en.N.from("users").update({status:r}).eq("id",e);if(s)throw s;t({title:"User Updated",description:"User status has been changed to ".concat(r,".")}),u()}catch(e){t({variant:"destructive",title:"Error",description:e.message||"Failed to update user status."})}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 text-primary mb-4 sm:mb-0",children:[(0,s.jsx)(ex.A,{className:"h-8 w-8"}),(0,s.jsx)("h2",{className:"font-headline text-3xl md:text-4xl font-bold",children:"Admin Panel"})]})}),(0,s.jsxs)("div",{className:"bg-card rounded-lg shadow-lg border",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[(0,s.jsx)(eh.A,{className:"h-6 w-6 text-muted-foreground"}),"User Management"]}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage all registered users in the system."})]}),(0,s.jsxs)("div",{className:"border-t",children:[i&&(0,s.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,s.jsx)(f.A,{className:"h-8 w-8 animate-spin text-primary"})}),o&&(0,s.jsxs)("div",{className:"text-center p-8 text-destructive",children:["Error loading users: ",o]}),!i&&!o&&(0,s.jsxs)(el,{children:[(0,s.jsx)(ei,{children:(0,s.jsxs)(eo,{children:[(0,s.jsx)(ec,{children:"Email"}),(0,s.jsx)(ec,{children:"Registered At"}),(0,s.jsx)(ec,{children:"Status"}),(0,s.jsx)(ec,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(ed,{children:r&&r.length>0?r.map(e=>(0,s.jsxs)(eo,{children:[(0,s.jsx)(eu,{className:"font-medium",children:e.email}),(0,s.jsx)(eu,{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,s.jsx)(eu,{children:(0,s.jsx)(ef,{variant:"active"===e.status?"secondary":"pending"===e.status?"outline":"destructive",children:e.status})}),(0,s.jsxs)(eu,{className:"text-right space-x-2",children:["pending"===e.status&&(0,s.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>m(e.id,"active"),children:[(0,s.jsx)(ep.A,{className:"mr-2 h-4 w-4"}),"Approve"]}),"banned"!==e.status&&"pending"!==e.status&&(0,s.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>m(e.id,"banned"),children:[(0,s.jsx)(eg.A,{className:"mr-2 h-4 w-4"}),"Ban"]}),"banned"===e.status&&(0,s.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>m(e.id,"active"),children:[(0,s.jsx)(ep.A,{className:"mr-2 h-4 w-4"}),"Unban"]})]})]},e.id)):(0,s.jsx)(eo,{children:(0,s.jsx)(eu,{colSpan:4,className:"text-center",children:"No users found."})})})]})]}),(0,s.jsx)("div",{className:"p-6 border-t text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["Showing ",null!=(e=null==r?void 0:r.length)?e:0," users."]})})]})]})})}function eb(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[d,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),{toast:m}=(0,n.dj)(),h=(0,ea.useRouter)(),{user:p,isLoading:j}=(0,es.J)(),b=(null==p?void 0:p.email)==="admin@aurora.com";(0,a.useEffect)(()=>{j||p||h.push("/login")},[p,j,h]),(0,a.useEffect)(()=>{!async function(){if(!p)return u(!1);try{let{data:e,error:t}=await en.N.from("users").select("*").eq("id",p.id).single();t?(console.warn("Profile fetch error:",t),o({email:p.email||"",status:"pending",created_at:new Date().toISOString()})):o(e)}catch(e){console.error("Error fetching profile:",e)}finally{u(!1)}}()},[p]);let v=async e=>{if(!p){m({variant:"destructive",title:"Authentication Error",description:"You must be logged in to generate a document."}),h.push("/login");return}t(!0),l(null);let r=await i(e);t(!1),r.error?m({variant:"destructive",title:"An error occurred",description:r.error}):r.filename&&r.content&&(l({filename:r.filename,content:r.content}),m({title:"Success!",description:"Your rephrased journal is ready for download."}))},N=()=>{l(null)},y=async()=>{await en.N.auth.signOut(),h.push("/login")};return(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 sm:p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsxs)("header",{className:"text-center mb-8 relative",children:[p&&(0,s.jsx)("div",{className:"absolute top-0 right-0",children:(0,s.jsxs)(g.$,{variant:"ghost",onClick:y,children:[(0,s.jsx)(er.A,{className:"mr-2 h-4 w-4"})," Sign Out"]})}),(0,s.jsxs)("h1",{className:"font-headline text-4xl md:text-5xl font-bold text-primary flex items-center justify-center gap-3",children:[(0,s.jsx)(x.A,{className:"h-10 w-10"}),"Journal Reframer"]}),p&&!b&&(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-lg",children:"Effortlessly rephrase and personalize your reflective journals."})]}),(()=>{if(j||p&&c)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8",children:[(0,s.jsx)(f.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading your workspace..."})]});if(!p)return null;if(b)return(0,s.jsx)(ej,{});if(d)switch(d.status){case"active":return r?(0,s.jsx)(W,{filename:r.filename,content:r.content,onReset:N}):(0,s.jsx)(X,{onSubmit:v,isLoading:e});case"pending":return(0,s.jsxs)("div",{className:"text-center p-8 bg-card border rounded-lg shadow-sm",children:[(0,s.jsx)(ee.A,{className:"mx-auto h-12 w-12 text-primary mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold font-headline mb-2",children:"Account Pending Approval"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Your account is currently awaiting administrator approval. Please check back later."})]});case"banned":return(0,s.jsxs)("div",{className:"text-center p-8 bg-card border border-destructive/50 rounded-lg shadow-sm",children:[(0,s.jsx)(et.A,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold font-headline mb-2",children:"Access Restricted"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Your account has been suspended. Please contact support for more information."})]});default:return(0,s.jsx)("p",{children:"Unknown account status."})}return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-8",children:[(0,s.jsx)(f.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Verifying account..."})]})})(),(0,s.jsx)("footer",{className:"text-center mt-12 text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," xorvexra xod3. All Rights Reserved."]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[172,751,670,776,441,684,358],()=>t(5538)),_N_E=e.O()}]);